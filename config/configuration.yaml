# https://www.home-assistant.io/integrations/default_config/
default_config:

# https://www.home-assistant.io/integrations/homeassistant/
homeassistant:
  debug: true

# https://www.home-assistant.io/integrations/logger/
logger:
  default: info
  logs:
    custom_components.shadow_control: debug

script: !include scripts.yaml

template:
  - sensor:
      - name: test_brightness
        state: 55
      - name: test_elevation
        state: 30
      - name: test_azimuth
        state: 180
  - binary_sensor:
      - name: shadow_handling_activation_entity
        state: "on"

cover:
  - platform: template
    covers:
      test_cover:
        unique_id: "testcover1"
        friendly_name: "Test Cover 1"
        device_class: blind
        open_cover:
          service: script.test_cover_open
        close_cover:
          service: script.test_cover_close
        stop_cover:
          service: script.test_cover_stop
        set_cover_position:
          service: script.test_cover_set_position
          data:
            position: "{{ position }}"
        position_template: "{{ state_attr('input_number.test_cover_position', 'value') | int }}"
        tilt_template: "{{ state_attr('input_number.test_cover_tilt_position', 'value') | int if is_state('input_number.test_cover_tilt_position', 'unavailable') == false else None }}"

input_number:
  test_cover_position:
    name: Test Cover Position
    min: 0
    max: 100
    step: 1
    mode: slider
    initial: 50
  test_cover_tilt_position:
    name: Test Cover Tilt Position
    min: 0
    max: 100
    step: 1
    mode: slider
    initial: 50